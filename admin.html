<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Admin paneli</title>
</head>
<body>
    
    <div class="box">
        <h1>Admin paneli</h1>
        <input id="title" placeholder="Product nomi"><br><br>
        <input id="price" type="number" placeholder="Narxi ($)"><br><br>
        <input id="image" type="file" accept="image/*"><br><br>
        <textarea id="desc" placeholder="Tavsif"></textarea><br><br>
        
        <button onclick="addProduct()">Qo‘shish</button>
    </div>
    
    <script>
        function addProduct() {
            const title = document.getElementById("title").value;
            const price = document.getElementById("price").value;
            const imageFile = document.getElementById("image").files[0];
            const desc = document.getElementById("desc").value;
            
            if (!title || !price || !imageFile) {
                alert("Barcha maydonlarni to‘ldir");
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                
                const newProduct = {
                    id: Date.now(),
                    title,
                    price,
                    thumbnail: e.target.result, 
                    description: desc
                };
                
                const products = JSON.parse(localStorage.getItem("products")) || [];
                products.push(newProduct);
                localStorage.setItem("products", JSON.stringify(products));
                
                alert("Product qo‘shildi");
                document.querySelectorAll("input, textarea").forEach(i => i.value = "");
            };
            
            reader.readAsDataURL(imageFile);
        }
    </script>
</body>
</html>
